(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[512],{8923:function(t,e,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/uen/inmobiliaria",function(){return o(950)}])},950:function(t,e,o){"use strict";o.r(e);var r=o(5893),a=o(7294),s=o(1220),n=o(8066),l=o(4119),u=o(8392);let i=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Octe","Nov","Dic"];e.default=(0,u.Z)(()=>{let[t,e]=(0,a.useState)([]),[o,u]=(0,a.useState)(Array(12).fill(0)||0),[c,d]=(0,a.useState)({}),[p,h]=(0,a.useState)({}),[f,b]=(0,a.useState)([]),[T,S]=(0,a.useState)([]),[m,g]=(0,a.useState)(null),[w,y]=(0,a.useState)(),_="inmobiliaria";return(0,a.useEffect)(()=>{let t=async()=>{try{let t=JSON.parse(localStorage.getItem("".concat(_,"_rubrosData")));if(t&&t.updatedRubros)e(t.updatedRubros),u(t.monthlyTotals||Array(12).fill(0)),d(t.rubrosTotals||{}),h(t.inputs||{});else{let t=(0,s.e)("csrftoken"),o=localStorage.getItem("token"),r=await fetch("".concat("http://localhost:8000","/rubros/"),{method:"GET",headers:{"X-CSRFToken":t,Authorization:"Token ".concat(o),"Content-Type":"application/json"},credentials:"include"});if(!r.ok)throw Error("HTTP error! Status: ".concat(r.status));let a=await r.json();e(a||[])}let o=(0,s.e)("csrftoken"),r=localStorage.getItem("token"),a=await fetch("".concat("http://localhost:8000","/CentroCostos/"),{method:"GET",headers:{"X-CSRFToken":o,Authorization:"Token ".concat(r),"Content-Type":"application/json"},credentials:"include"});if(!a.ok)throw Error("HTTP error! Status: ".concat(a.status));let n=await a.json(),l=n.results.filter(t=>"Inmobiliaria"===t.uen.nombre);b(l||[]),g(n.user_id||null),m||g(n.user_id||null)}catch(t){console.error("Error fetching data:",t)}};m||t();let o=t=>{let e={};return Object.keys(t).forEach(o=>{let r=t[o];r&&"string"==typeof r.value?e[o]={...r,value:r.value.replace(/\.00$/,"")}:e[o]=r}),e},r=JSON.parse(localStorage.getItem("".concat(_,"_rubrosData")));r&&r.updatedRubros&&(e(r.updatedRubros),u(r.monthlyTotals||Array(12).fill(0)),d(r.rubrosTotals||{}),h(r.inputs||{}));let a=JSON.parse(localStorage.getItem("".concat(_,"_selectedPresupuesto")));a&&(h(o(a.inputs||{})),u(a.monthlyTotals||{}),d(a.rubrosTotals||{}),e(a.updatedRubros||{}),y(a.centroCostoid||{}),S(a.id||{}));let n=t=>{if("selectedPresupuesto"===t.key){let r=JSON.parse(t.newValue);r&&(h(o(r.inputs||{})),u(r.monthlyTotals||[]),d(r.rubrosTotals||{}),e(r.updatedRubros||[]),y(r.centroCostoid||[]),S(r.id||[]))}};return window.addEventListener("storage",n),()=>{window.removeEventListener("storage",n)}},[m]),(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{style:{display:"flex",flexDirection:"row",overflow:"auto",marginRight:"10px",height:"100vh"},children:[(0,r.jsx)(l.Z,{}),(0,r.jsx)(n.Z,{presupuestoid:T,CentroCostoid:w,setCentroCostoid:y,updatedRubros:t,setUpdatedRubros:e,setInputValues:h,inputValues:p,rubrosTotals:c,setRubrosTotals:d,monthlyTotals:o,setMonthlyTotals:u,MONTHS:i,userId:m,updatedcentroCostos:f,uen:"Inmobiliaria"})]})})})}},function(t){t.O(0,[251,319,920,195,651,119,570,888,774,179],function(){return t(t.s=8923)}),_N_E=t.O()}]);