(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[420],{6921:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/informes/detallado",function(){return r(1351)}])},1351:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var n=r(5893),s=r(7294);r(4119);var o=r(1220),c=r(1163),i=()=>{let[e,t]=(0,s.useState)([]),[r,i]=(0,s.useState)(null);return(0,c.useRouter)(),(0,s.useEffect)(()=>{let e=async()=>{try{let e=(0,o.e)("csrftoken"),r=localStorage.getItem("token"),n=await fetch("http://localhost:8000/InformeDetalladoPresupuesto/",{method:"GET",headers:{"X-CSRFToken":e,Authorization:"Token ".concat(r),"Content-Type":"application/json"},credentials:"include"});if(!n.ok)throw Error("HTTP error! Status: ".concat(n.status));let s=(await n.json()).reduce((e,t)=>{let{uen:r,cuenta:n}=t,s=n.regional;return e[r.nombre]||(e[r.nombre]={}),e[r.nombre][s]||(e[r.nombre][s]=[]),e[r.nombre][s].push(t),e},{});console.log("Grouped Data:",s),t(s)}catch(e){console.error("Error fetching data:",e)}};r||e()},[r]),(0,n.jsx)("div",{children:Object.entries(e).map(e=>{let[t,r]=e;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("h2",{children:["UEN: ",t]}),Object.entries(r).map(e=>{let[t,r]=e;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{children:["Zona: ",t]}),(0,n.jsxs)("table",{children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{children:"Rubro"}),(0,n.jsx)("th",{children:"Subrubro"}),(0,n.jsx)("th",{children:"Item"}),(0,n.jsx)("th",{children:"Presupuesto Mes"}),(0,n.jsx)("th",{children:"Fecha"})]})}),(0,n.jsx)("tbody",{children:r.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{children:e.rubro}),(0,n.jsx)("td",{children:e.subrubro}),(0,n.jsx)("td",{children:e.item}),(0,n.jsx)("td",{children:e.presupuestomes}),(0,n.jsx)("td",{children:e.fecha})]},e.id))})]})]},t)})]},t)})})}},1220:function(e,t,r){"use strict";r.d(t,{e:function(){return n}});let n=e=>{let t="; ".concat(document.cookie).split("; ".concat(e,"="));if(2===t.length)return t.pop().split(";").shift()}}},function(e){e.O(0,[319,920,119,888,774,179],function(){return e(e.s=6921)}),_N_E=e.O()}]);